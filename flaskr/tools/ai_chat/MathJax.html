<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>markdown with mathjax</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <!-- Optional: Include CSS for Markdown styling -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Configure MathJax for LaTeX rendering using $ delimiters -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)'], ['\\begin{math}', '\\end{math}']], // for inline math patterns
        displayMath: [['$$', '$$'], ['\\[', '\\]'], ['\\begin{displaymath}', '\\end{displaymath}']], // for new line math patterns
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  <!-- Include MathJax for svg use: https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js-->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    textarea {
      width: 100%;
      height: 150px;
      margin-bottom: 10px;
    }

    #output {
      border: 1px solid #ccc;
      padding: 10px;
      min-height: 100px;
    }
  </style>
</head>

<body>

  <h2>Markdown Editor with mathjax</h2>
  <textarea id="markdown-input">This is an inline equation one: $E = mc^2$ and equation two: \(F = ma\)

This is a block equation: $$f(x) = \int_{-\infty}^{\infty} e^{-x^2} dx$$

This is a block equation2: \[f(x) = \int_{-\infty}^{\infty} e^{-x^3} dx\]

Below is an example Python program that accepts two primitive vectors as input and plots the resulting lattice. In this example, we generate a grid of lattice points using integer combinations of the two vectors and then plot them using matplotlib.

```python
import numpy as np
import matplotlib.pyplot as plt

def plot_lattice(points, v1, v2):
    """
    Plot the lattice points along with the primitive vectors.

    Parameters:
        points: Numpy array of lattice points.
        v1, v2: Primitive vectors to highlight.
    """
    plt.figure(figsize=(8, 8))

    # Plot the lattice points.
    plt.scatter(points[:, 0], points[:, 1], color='blue', s=25, label='Lattice Points')

    # Plot the primitive vectors starting from the origin.
    origin = np.array([0, 0])
    plt.quiver(*origin, *v1, color='red', angles='xy', scale_units='xy', scale=1, label='v1')
    plt.quiver(*origin, *v2, color='green', angles='xy', scale_units='xy', scale=1, label='v2')

    # Draw lattice cell boundaries for clarity.
    cell = np.array([origin, v1, v1 + v2, v2, origin])
    plt.plot(cell[:, 0], cell[:, 1], 'k--', lw=2, label='Unit Cell')

    plt.xlabel('x')
    plt.ylabel('y')
    plt.title('Lattice Generated by Two Primitive Vectors')
    plt.axis('equal')
    plt.legend()
    plt.grid(True)
    plt.show()

if __name__ == '__main__':
    # Example input: Two primitive vectors.
    # These can be modified to any two non-collinear vectors.
    vector1 = [2, 0.5]
    vector2 = [0.5, 2]

    # Generate lattice points in a specified range.
    lattice_points = generate_lattice(vector1, vector2, n_range=(-5, 5))

    # Plot the lattice.
    plot_lattice(lattice_points, vector1, vector2)
```
### How It Works

1. **Lattice Generation:**
   The `generate_lattice` function loops over a range of integer coefficients (from -5 to 5 by default) to form linear combinations of the two primitive vectors. This produces an array of lattice points.

2. **Plotting:**
   The `plot_lattice` function uses `matplotlib` to plot the lattice points. It also uses `plt.quiver` to draw the primitive vectors (starting at the origin) and draws a dashed line to illustrate one unit cell.

3. **Usage:**
   You can modify `vector1` and `vector2` to any two non-collinear 2D vectors. Running the program will display a plot of the lattice.

This program is self-contained and can be executed in any Python environment with NumPy and Matplotlib installed.
    </textarea>

  <button onclick="update_display()">Render</button>
  <h3>Output:</h3>
  <div id="output"></div>

  <script>

    function update_display() {
      const input = document.getElementById("markdown-input").value;
      const displayHandle = document.getElementById("output");
      // Re-render MathJax content
      displayHandle.innerHTML = input;
      MathJax.typesetPromise([displayHandle]);
      // marked parse
      displayHandle.innerHTML = marked.parse(displayHandle.innerHTML);
      // Syntax highlighting
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightElement(block);
      });
    }

  </script>

</body>

</html>
